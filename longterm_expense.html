<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>收入分配分析工具</title>
  <style>
    body { font-family: 'Microsoft JhengHei', sans-serif; background: #f7f7f7; padding: 20px; color: #333; }
    .container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; }
    h2 { text-align: center; color: #007b8f; }
    label { display: block; margin-top: 12px; font-weight: bold; }
    input { width: 100%; padding: 8px; margin-top: 4px; border: 1px solid #ccc; border-radius: 6px; }
    button { margin-top: 20px; width: 100%; padding: 10px; background: #007b8f; color: white; border: none; border-radius: 6px; font-size: 16px; cursor: pointer; }
    #result { margin-top: 24px; background: #fffbe6; padding: 16px; border-left: 6px solid #ffc107; border-radius: 8px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>📊 收入分配分析</h2>
    <form id="budgetForm">
      <label>每月總收入</label>
      <input type="number" id="income" required />

      <label>生活開銷（餐飲、房租、交通…）</label>
      <input type="number" id="life" required />

      <label>債務支出（房貸、卡債、孝親費…）</label>
      <input type="number" id="debt" required />

      <label>風險管理（保險、預備金）</label>
      <input type="number" id="risk" required />

      <label>投資理財（保本、中高風險…）</label>
      <input type="number" id="invest" required />

      <button type="submit">分析分配</button>
    </form>

    <div id="result"></div>
  </div>

  <script>
    document.getElementById("budgetForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const income = +document.getElementById("income").value;
      const life = +document.getElementById("life").value;
      const debt = +document.getElementById("debt").value;
      const risk = +document.getElementById("risk").value;
      const invest = +document.getElementById("invest").value;

      const total = life + debt + risk + invest;

      function calcRate(val) {
        return Math.round(val / income * 100);
      }

      function evaluate(val, ideal) {
        if (val > ideal + 5) return "偏高";
        if (val < ideal - 5) return "偏低";
        return "正常";
      }

      const lifeRate = calcRate(life);
      const debtRate = calcRate(debt);
      const riskRate = calcRate(risk);
      const investRate = calcRate(invest);

      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = `
        ✅ 收入總額：${income.toLocaleString()} 元<br><br>
        🔹 生活開銷：${lifeRate}%（建議 40%）👉 ${evaluate(lifeRate, 40)}<br>
        🔹 債務支出：${debtRate}%（建議 20%）👉 ${evaluate(debtRate, 20)}<br>
        🔹 風險管理：${riskRate}%（建議 20%）👉 ${evaluate(riskRate, 20)}<br>
        🔹 投資理財：${investRate}%（建議 20%）👉 ${evaluate(investRate, 20)}<br><br>
        ${total > income ? "⚠️ 支出超過收入，建議調整！" : "👍 分配合理，可進一步優化配置"}
      `;
    });
  </script>
</body>
</html>
